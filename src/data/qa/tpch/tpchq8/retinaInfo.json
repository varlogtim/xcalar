{
    "udfs": [],
    "tables": [
        {
            "name": "EndResult-tpchq8",
            "columns": [
                {
                    "columnName": "mkt_share",
                    "headerAlias": "mkt_share"
                },
                {
                    "columnName": "O_ORDERDATE_substring_integer",
                    "headerAlias": "O_ORDERDATE_substring_integer"
                }
            ]
        }
    ],
    "xcalarVersion": "1.2.1-1-jenkins-8088a6fa-a568cfd8",
    "query": "load --url \"<pathToTpchDatasets>/part.tbl\" --format csv --size 0B  --name \"demo.47465.part\" --fielddelim | --crlf --header;load --url \"<pathToTpchDatasets>/orders.tbl\" --format csv --size 0B  --name \"demo.59229.orders\" --fielddelim | --crlf --header;load --url \"<pathToTpchDatasets>/lineitem.tbl\" --format csv --size 0B  --name \"demo.70529.lineitem\" --fielddelim | --crlf --header;index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.47465.part\" --dsttable \"part#s3116\" --prefix part;index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.59229.orders\" --dsttable \"orders#s3119\" --prefix orders;index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.70529.lineitem\" --dsttable \"lineitem#s3118\" --prefix lineitem;filter --srctable part#s3116 --eval \"eq(part::P_TYPE, \\\"ECONOMY ANODIZED STEEL\\\")\"  --dsttable \"part#s3124\";map --srctable \"orders#s3119\" --fieldName O_ORDERDATE_ge --eval \"ge(orders::O_ORDERDATE, \\\"1995-01-01\\\")\" --dsttable \"orders#s3128\";load --url \"<pathToTpchDatasets>/supplier.tbl\" --format csv --size 0B  --name \"demo.92928.supplier\" --fielddelim | --crlf --header;index --key \"lineitem::L_PARTKEY\" --keyType 1  --srctable \"lineitem#s3118\" --dsttable \"lineitem.index#s3136\";index --key \"part::P_PARTKEY\" --keyType 1  --srctable \"part#s3124\" --dsttable \"part.index#s3135\";filter --srctable orders#s3128 --eval \"eq(O_ORDERDATE_ge, true)\"  --dsttable \"orders#s3129\";index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.92928.supplier\" --dsttable \"supplier#s3117\" --prefix supplier;join --leftTable \"part.index#s3135\" --rightTable \"lineitem.index#s3136\" --joinType innerJoin  --joinTable \"part_litem_join#s3134\" --collisionCheck;map --srctable \"orders#s3129\" --fieldName O_ORDERDATE_le --eval \"le(orders::O_ORDERDATE, \\\"1996-12-31\\\")\" --dsttable \"orders#s3130\";index --key \"supplier::S_SUPPKEY\" --keyType 1  --srctable \"supplier#s3117\" --dsttable \"supplier.index#s3139\";index --key \"lineitem::L_SUPPKEY\" --keyType 1  --srctable \"part_litem_join#s3134\" --dsttable \"part_litem_join.index#s3138\";filter --srctable orders#s3130 --eval \"eq(O_ORDERDATE_le, true)\"  --dsttable \"orders#s3131\";join --leftTable \"part_litem_join.index#s3138\" --rightTable \"supplier.index#s3139\" --joinType innerJoin  --joinTable \"part_litem_supp_join#s3137\" --collisionCheck;load --url \"<pathToTpchDatasets>/customer.tbl\" --format csv --size 0B  --name \"demo.60456.customer\" --fielddelim | --crlf --header;index --key \"orders::O_ORDERKEY\" --keyType 1  --srctable \"orders#s3131\" --dsttable \"orders.index#s3142\";index --key \"lineitem::L_ORDERKEY\" --keyType 1  --srctable \"part_litem_supp_join#s3137\" --dsttable \"part_litem_supp_join.index#s3141\";index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.60456.customer\" --dsttable \"customer#s3120\" --prefix customer;join --leftTable \"part_litem_supp_join.index#s3141\" --rightTable \"orders.index#s3142\" --joinType innerJoin  --joinTable \"part_litem_supp_order_join#s3140\" --collisionCheck;load --url \"<pathToTpchDatasets>/nation.tbl\" --format csv --size 0B  --name \"demo.71146.nation\" --fielddelim | --crlf --header;index --key \"customer::C_CUSTKEY\" --keyType 1  --srctable \"customer#s3120\" --dsttable \"customer.index#s3145\";index --key \"orders::O_CUSTKEY\" --keyType 1  --srctable \"part_litem_supp_order_join#s3140\" --dsttable \"part_litem_supp_order_join.index#s3144\";load --url \"<pathToTpchDatasets>/region.tbl\" --format csv --size 0B  --name \"demo.02158.region\" --fielddelim | --crlf --header;index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.71146.nation\" --dsttable \"nation1#s3122\" --prefix nation;join --leftTable \"part_litem_supp_order_join.index#s3144\" --rightTable \"customer.index#s3145\" --joinType innerJoin  --joinTable \"part_litem_supp_order_customer_join#s3143\" --collisionCheck;index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.02158.region\" --dsttable \"region#s3132\" --prefix region;index --key \"nation::N_NATIONKEY\" --keyType 1  --srctable \"nation1#s3122\" --dsttable \"nation1.index#s3148\";index --key \"customer::C_NATIONKEY\" --keyType 1  --srctable \"part_litem_supp_order_customer_join#s3143\" --dsttable \"part_litem_supp_order_customer_join.index#s3147\";filter --srctable region#s3132 --eval \"eq(region::R_NAME, \\\"AMERICA\\\")\"  --dsttable \"region#s3133\";join --leftTable \"part_litem_supp_order_customer_join.index#s3147\" --rightTable \"nation1.index#s3148\" --joinType innerJoin  --joinTable \"part_litem_supp_order_customer_nation1_join#s3146\" --collisionCheck;index --key \"region::R_REGIONKEY\" --keyType 1  --srctable \"region#s3133\" --dsttable \"region.index#s3151\";index --key \"nation::N_REGIONKEY\" --keyType 1  --srctable \"part_litem_supp_order_customer_nation1_join#s3146\" --dsttable \"part_litem_supp_order_customer_nation1_join.index#s3150\";index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.71146.nation\" --dsttable \"nation2#s3123\" --prefix nation;join --leftTable \"part_litem_supp_order_customer_nation1_join.index#s3150\" --rightTable \"region.index#s3151\" --joinType innerJoin  --joinTable \"part_litem_supp_order_customer_nation1_region_join#s3149\" --collisionCheck;index --key \"nation::N_NATIONKEY\" --keyType 1  --srctable \"nation2#s3123\" --dsttable \"nation2.index#s3154\";index --key \"supplier::S_NATIONKEY\" --keyType 1  --srctable \"part_litem_supp_order_customer_nation1_region_join#s3149\" --dsttable \"part_litem_supp_order_customer_nation1_region_join.index#s3153\";join --leftTable \"part_litem_supp_order_customer_nation1_region_join.index#s3153\" --rightTable \"nation2.index#s3154\" --joinType innerJoin  --joinTable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3152\" --collisionCheck --leftRenameMap nation:nation1:0 --rightRenameMap nation:nation2:0;map --srctable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3152\" --fieldName O_ORDERDATE_substring --eval \"substring(orders::O_ORDERDATE, 0, 4)\" --dsttable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3155\";map --srctable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3155\" --fieldName L_EXTENDEDPRICE_float --eval \"float(lineitem::L_EXTENDEDPRICE)\" --dsttable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3157\";map --srctable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3157\" --fieldName L_DISCOUNT_float --eval \"float(lineitem::L_DISCOUNT)\" --dsttable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3158\";map --srctable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3158\" --fieldName volume --eval \"mult(L_EXTENDEDPRICE_float, sub(1,L_DISCOUNT_float))\" --dsttable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3159\";map --srctable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3159\" --fieldName mkt_share_casestmt --eval \"if(eq(nation2::N_NAME,\\\"BRAZIL\\\"), volume, 0)\" --dsttable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3161\";index --key \"O_ORDERDATE_substring\" --keyType 1  --srctable \"part_litem_supp_order_customer_nation1_region_nation2_join#s3161\" --dsttable \"part_litem_supp_order_customer_nation1_region_nation2_join.index#s3164\";groupBy --srctable \"part_litem_supp_order_customer_nation1_region_nation2_join.index#s3164\" --eval \"sum(volume)\" --fieldName \"volume_sum\" --newKeyFieldName \"O_ORDERDATE_substring\" --dsttable \"Final_q8_output#s3166\" --nosample;groupBy --srctable \"part_litem_supp_order_customer_nation1_region_nation2_join.index#s3164\" --eval \"sum(mkt_share_casestmt)\" --fieldName \"mkt_share_casestmt_sum\" --newKeyFieldName \"O_ORDERDATE_substring\" --dsttable \"Final_q8_output#s3165\" --nosample;join --leftTable \"Final_q8_output#s3165\" --rightTable \"Final_q8_output#s3166\" --joinType innerJoin  --joinTable \"Final_q8_output#s3167\" --collisionCheck --rightRenameMap O_ORDERDATE_substring:O_ORDERDATE_substring_GB824:1;map --srctable \"Final_q8_output#s3167\" --fieldName mkt_share --eval \"div(mkt_share_casestmt_sum, volume_sum)\" --dsttable \"Final_q8_output#s3168\";map --srctable \"Final_q8_output#s3168\" --fieldName O_ORDERDATE_substring_integer --eval \"int(O_ORDERDATE_substring, 10)\" --dsttable \"Final_q8_output#s3171\";index --key \"O_ORDERDATE_substring_integer\" --keyType 4  --srctable \"Final_q8_output#s3171\" --dsttable \"EndResult-tpchq8\" --sorted;",
    "retinaVersion": 1
}
