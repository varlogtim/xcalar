{
    "tables": [
        {
            "name": "EndResult-tpchq20",
            "columns": [
                {
                    "columnName": "supplier::S_NAME",
                    "headerAlias": "S_NAME"
                },
                {
                    "columnName": "supplier::S_ADDRESS",
                    "headerAlias": "S_ADDRESS"
                }
            ]
        }
    ],
    "udfs": [
        {
            "fileName": "udfs/adddateinterval_modified.py",
            "moduleName": "adddateinterval_modified",
            "udfType": "python"
        }
    ],
    "query": "load --url \"<pathToTpchDatasets>/partsupp.tbl\" --format csv --size 0B  --name \"demo.25083.partsupp\" --fielddelim | --crlf --header;index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.25083.partsupp\" --dsttable \"partsupp#s32\" --prefix partsupp;load --url \"<pathToTpchDatasets>/lineitem.tbl\" --format csv --size 0B  --name \"demo.70529.lineitem\" --fielddelim | --crlf --header;map --eval \"int(partsupp::PS_AVAILQTY, 10)\" --srctable \"partsupp#s32\" --fieldName \"PS_AVAILQTY_integer\" --dsttable \"partsupp#s36\";index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.70529.lineitem\" --dsttable \"lineitem#s37\" --prefix lineitem;map --eval \"concat(string(partsupp::PS_PARTKEY), concat(\\\".Xc.\\\", string(partsupp::PS_SUPPKEY)))\" --srctable \"partsupp#s36\" --fieldName \"rightJoinCol27097\" --dsttable \"partsupp#s324\";map --eval \"concat(string(lineitem::L_PARTKEY), concat(\\\".Xc.\\\", string(lineitem::L_SUPPKEY)))\" --srctable \"lineitem#s37\" --fieldName \"leftJoinCol26085\" --dsttable \"lineitem#s323\";index --key \"rightJoinCol27097\" --keyType 1  --srctable \"partsupp#s324\" --dsttable \"partsupp.index#s325\";index --key \"leftJoinCol26085\" --keyType 1  --srctable \"lineitem#s323\" --dsttable \"lineitem.index#s326\";join --leftTable \"lineitem.index#s326\" --rightTable \"partsupp.index#s325\" --joinType innerJoin  --joinTable \"lineitem_partsupp_join#s322\" --collisionCheck;filter --srctable lineitem_partsupp_join#s322 --eval \"ge(lineitem::L_SHIPDATE, \\\"1994-01-01\\\")\"  --dsttable \"lineitem_partsupp_join#s327\";map --eval \"adddateinterval_modified:dateltyearinputdate(lineitem::L_SHIPDATE, \\\"1994-01-01\\\", 1)\" --srctable \"lineitem_partsupp_join#s327\" --fieldName \"L_SHIPDATE_udf\" --dsttable \"lineitem_partsupp_join#s328\";filter --srctable lineitem_partsupp_join#s328 --eval \"eq(L_SHIPDATE_udf, \\\"True\\\")\"  --dsttable \"lineitem_partsupp_join#s329\";map --eval \"concat(string(lineitem::L_PARTKEY), concat(\\\".Xc.\\\", string(lineitem::L_SUPPKEY)))\" --srctable \"lineitem_partsupp_join#s329\" --fieldName \"multiGroupBy21339\" --dsttable \"lineitem_partsupp_join#s331\";index --key \"multiGroupBy21339\" --keyType 1  --srctable \"lineitem_partsupp_join#s331\" --dsttable \"lineitem_partsupp_join.index#s332\";load --url \"<pathToTpchDatasets>/part.tbl\" --format csv --size 0B  --name \"demo.47465.part\" --fielddelim | --crlf --header;groupBy --srctable \"lineitem_partsupp_join.index#s332\" --eval \"sum(int(lineitem::L_QUANTITY, 10))\" --fieldName \"L_QUANTITY_sum\" --newKeyFieldName \"multiGroupBy21339\" --dsttable \"lineitem_partsupp_grpby_join#s330\" --nosample;index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.47465.part\" --dsttable \"part#s30\" --prefix part;map --eval \"cut(multiGroupBy21339, 1, \\\".Xc.\\\")\" --srctable \"lineitem_partsupp_grpby_join#s330\" --fieldName \"L_PARTKEY\" --dsttable \"lineitem_partsupp_grpby_join#s333\";filter --srctable part#s30 --eval \"like(part::P_NAME, \\\"forest*\\\")\"  --dsttable \"part#s31\";map --eval \"cut(multiGroupBy21339, 2, \\\".Xc.\\\")\" --srctable \"lineitem_partsupp_grpby_join#s333\" --fieldName \"L_SUPPKEY\" --dsttable \"lineitem_partsupp_grpby_join#s334\";index --key \"part::P_PARTKEY\" --keyType 1  --srctable \"part#s31\" --dsttable \"part.index#s35\";index --key \"partsupp::PS_PARTKEY\" --keyType 1  --srctable \"partsupp#s32\" --dsttable \"partsupp.index#s34\";map --eval \"mult(L_QUANTITY_sum, 0.5)\" --srctable \"lineitem_partsupp_grpby_join#s334\" --fieldName \"L_QUANTITY_sum_mult\" --dsttable \"lineitem_partsupp_grpby_join#s335\";join --leftTable \"partsupp.index#s34\" --rightTable \"part.index#s35\" --joinType innerJoin  --joinTable \"partsupp_part_join#s33\" --collisionCheck;map --eval \"concat(string(L_PARTKEY), concat(\\\".Xc.\\\", string(L_SUPPKEY)))\" --srctable \"lineitem_partsupp_grpby_join#s335\" --fieldName \"rightJoinCol98998\" --dsttable \"lineitem_partsupp_grpby_join#s343\";map --eval \"concat(string(partsupp::PS_PARTKEY), concat(\\\".Xc.\\\", string(partsupp::PS_SUPPKEY)))\" --srctable \"partsupp_part_join#s33\" --fieldName \"leftJoinCol09921\" --dsttable \"partsupp_part_join#s342\";load --url \"<pathToTpchDatasets>/nation.tbl\" --format csv --size 0B  --name \"demo.71146.nation\" --fielddelim | --crlf --header;load --url \"<pathToTpchDatasets>/supplier.tbl\" --format csv --size 0B  --name \"demo.92928.supplier\" --fielddelim | --crlf --header;index --key \"rightJoinCol98998\" --keyType 1  --srctable \"lineitem_partsupp_grpby_join#s343\" --dsttable \"lineitem_partsupp_grpby_join.index#s345\";index --key \"leftJoinCol09921\" --keyType 1  --srctable \"partsupp_part_join#s342\" --dsttable \"partsupp_part_join.index#s344\";index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.71146.nation\" --dsttable \"nation#s351\" --prefix nation;index --key \"xcalarRecordNum\" --dataset \".XcalarDS.demo.92928.supplier\" --dsttable \"supplier#s350\" --prefix supplier;join --leftTable \"partsupp_part_join.index#s344\" --rightTable \"lineitem_partsupp_grpby_join.index#s345\" --joinType innerJoin  --joinTable \"sub1_sub2_join#s341\" --collisionCheck;index --key \"nation::N_NATIONKEY\" --keyType 1  --srctable \"nation#s351\" --dsttable \"nation.index#s353\";index --key \"supplier::S_NATIONKEY\" --keyType 1  --srctable \"supplier#s350\" --dsttable \"supplier.index#s354\";map --eval \"int(partsupp::PS_AVAILQTY, 10)\" --srctable \"sub1_sub2_join#s341\" --fieldName \"PS_AVAILQTY_integer\" --dsttable \"sub1_sub2_join#s347\";join --leftTable \"supplier.index#s354\" --rightTable \"nation.index#s353\" --joinType innerJoin  --joinTable \"supplier_nation_join#s352\" --collisionCheck;filter --srctable sub1_sub2_join#s347 --eval \"gt(PS_AVAILQTY_integer, L_QUANTITY_sum_mult)\"  --dsttable \"sub1_sub2_join#s349\";filter --srctable supplier_nation_join#s352 --eval \"eq(nation::N_NAME, \\\"CANADA\\\")\"  --dsttable \"supplier_nation_join#s355\";index --key \"partsupp::PS_SUPPKEY\" --keyType 1  --srctable \"sub1_sub2_join#s349\" --dsttable \"sub1_sub2_join.index#s358\";index --key \"supplier::S_SUPPKEY\" --keyType 1  --srctable \"supplier_nation_join#s355\" --dsttable \"supplier_nation_join.index#s357\";join --leftTable \"supplier_nation_join.index#s357\" --rightTable \"sub1_sub2_join.index#s358\" --joinType innerJoin  --joinTable \"Final_Q20_output#s356\" --collisionCheck;index --key \"supplier::S_NAME\" --keyType 1  --srctable \"Final_Q20_output#s356\" --dsttable \"EndResult-tpchq20\" --sorted;",
    "xcalarVersion": "1.2.1-1-jenkins-efd2531c-fc9162cb",
    "retinaVersion": 1
}
